{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"ProjectView\",\n  data: function data() {\n    return {\n      new_proj: {\n        name: \"\",\n        is_public: \"\"\n      },\n      page_name: \"project_page\",\n      search_keyword: \"\",\n      proj_data: {},\n      isModalVisible: false,\n      canvasData: {\n        file: {\n          \"class\": \"GraphLinksModel\",\n          copiesArrays: true,\n          copiesArrayObjects: true,\n          nodeDataArray: [{\n            category: \"Data\",\n            reasonsList: [{}],\n            key: -2,\n            loc: \"-99.10220015417542 -20.151221229488044\"\n          }],\n          linkDataArray: []\n        },\n        code: \"if __name__ == '__main__':\\n  main()\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    // Fetch data on page load\n    this.getData();\n  },\n  methods: {\n    // 200\n    getData: function getData() {\n      var _this = this;\n\n      axios({\n        method: \"get\",\n        url: \"/project/\" + localStorage.uid + \"/\"\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == 200) {\n          _this.proj_data = res.data.project_detail;\n          console.log(res.data.project_detail);\n          console.log(_this.proj_data);\n        } else {\n          alert(\"project loading error!\");\n        }\n      });\n    },\n    // 200\n    newProject: function newProject() {\n      var formData = new FormData();\n      formData.append(\"name\", this.new_proj.name);\n      formData.append(\"is_public\", this.new_proj.is_public);\n      formData.append(\"file\", this.canvasData.file);\n      console.log(this.new_proj.name);\n      console.log(this.new_proj.is_public);\n      console.log(this.canvasData.file);\n      axios({\n        method: \"post\",\n        url: \"/project/create/\" + localStorage.uid + \"/\",\n        data: formData\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == \"200\") {\n          console.log(\"formData ok! 200\");\n        } else if (res.data.status == \"500\") {\n          console.log(\"formData error 500\");\n        } else if (res.data.status == \"400\") {\n          console.log(\"can not save 400\");\n        }\n      }); // location.replace(\"/project/\");\n    },\n    // 200\n    openProject: function openProject() {\n      this.$refs.fileRef.dispatchEvent(new MouseEvent(\"click\"));\n    },\n    // 200\n    uploadProject: function uploadProject() {\n      var form_data = new FormData();\n      var file = document.getElementById(\"file\").files[0];\n      form_data.append(\"file\", file, file.name);\n      axios({\n        method: \"post\",\n        url: \"/project/upload/\" + localStorage.uid + \"/\",\n        data: form_data,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == \"200\") {\n          console.log(\"upload ok!\");\n        } else {\n          alert(\"upload fail!\");\n        }\n\n        location.replace(\"/project/\");\n      });\n    },\n    // untested\n    search: function search() {\n      var _this2 = this;\n\n      var formData = new FormData();\n      formData.append(\"page_name\", this.page_name);\n      formData.append(\"keyword\", this.search_keyword);\n      axios({\n        method: \"post\",\n        url: \"/project/search/\" + localStorage.uid + \"/\",\n        data: formData\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == \"200\") {\n          _this2.proj_data = res.data.project_datail;\n        } else if (res.data.status == \"500\") {\n          alert(\"Something wrong...\");\n        }\n\n        location.replace(\"/project/\");\n      });\n    },\n    // 200\n    remove: function remove(proj) {\n      var _this3 = this;\n\n      var formData = new FormData();\n      formData.append(\"project_id\", proj.id);\n      axios({\n        method: \"post\",\n        url: \"/project/remove/\" + localStorage.uid + \"/\" + proj.id + \"/\",\n        data: formData\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.data.status == \"200\") {\n          _this3.proj_data = res.data.project_datail;\n        } else if (res.data.status == \"500\") {\n          alert(\"Something wrong...\");\n        }\n\n        location.replace(\"/project/\");\n      });\n    },\n    // 200\n    enterCanvas: function enterCanvas(proj) {\n      localStorage.pid = proj.id;\n      location.replace(\"/canvas/\");\n    },\n    // 200\n    showModal: function showModal() {\n      this.isModalVisible = true;\n    },\n    // 200\n    closeModal: function closeModal() {\n      this.isModalVisible = false;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","name","data","new_proj","is_public","page_name","search_keyword","proj_data","isModalVisible","canvasData","file","copiesArrays","copiesArrayObjects","nodeDataArray","category","reasonsList","key","loc","linkDataArray","code","mounted","getData","methods","method","url","localStorage","uid","then","res","console","log","status","project_detail","alert","newProject","formData","FormData","append","openProject","$refs","fileRef","dispatchEvent","MouseEvent","uploadProject","form_data","document","getElementById","files","headers","location","replace","search","project_datail","remove","proj","id","enterCanvas","pid","showModal","closeModal"],"sourceRoot":"","sources":["C:\\qp_box\\_CodeField\\Comp208-Neural-Lego\\frontend\\src\\views\\ProjectView.vue"],"sourcesContent":["<template>\r\n  <div id=\"page-top\">\r\n    <!-- Page Wrapper -->\r\n    <div id=\"wrapper\">\r\n      <!-- Sidebar -->\r\n      <ul\r\n        class=\"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion\"\r\n        id=\"accordionSidebar\"\r\n      >\r\n        <!-- Sidebar - Brand -->\r\n\r\n        <a\r\n          class=\"sidebar-brand d-flex align-items-center justify-content-center\"\r\n        >\r\n          <div class=\"sidebar-brand-text mx-3\">NEURAL LEGO</div>\r\n        </a>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/profile\">\r\n            <i class=\"fas fa-fw fa-user\"></i>\r\n            <span>User</span></a\r\n          >\r\n        </li>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item active\">\r\n          <a class=\"nav-link\" href=\"/project\">\r\n            <i class=\"fas fa-fw fa-folder\"></i>\r\n            <span>Project</span></a\r\n          >\r\n        </li>\r\n\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/dataset\">\r\n            <i class=\"fas fa-fw fa-folder\"></i>\r\n            <span>Dataset</span></a\r\n          >\r\n        </li>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/template\">\r\n            <i class=\"fas fa-fw fa-table\"></i>\r\n            <span>Template</span></a\r\n          >\r\n        </li>\r\n\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/canvas/\">\r\n            <i class=\"fas fa-fw fa-palette\"></i>\r\n            <span>Canvas</span></a\r\n          >\r\n        </li>\r\n\r\n        <hr class=\"sidebar-divider my-0\" />\r\n\r\n        <!-- Nav Item - Dashboard -->\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" href=\"/\">\r\n            <i class=\"fas fa-fw fa-arrow-circle-left\"></i>\r\n            <span>Log out</span></a\r\n          >\r\n        </li>\r\n\r\n        <!-- Divider -->\r\n        <hr class=\"sidebar-divider d-none d-md-block\" />\r\n      </ul>\r\n      <!-- End of Sidebar -->\r\n\r\n      <!-- Content Wrapper -->\r\n      <div id=\"content-wrapper\" class=\"d-flex flex-column\">\r\n        <!-- Main Content -->\r\n        <div id=\"content\">\r\n          <!-- Topbar -->\r\n          <nav\r\n            class=\"\r\n              navbar navbar-expand navbar-light\r\n              bg-white\r\n              topbar\r\n              mb-4\r\n              static-top\r\n              shadow\r\n            \"\r\n          >\r\n            <!-- Sidebar Toggle (Topbar) -->\r\n            <button\r\n              id=\"sidebarToggleTop\"\r\n              class=\"btn btn-link d-md-none rounded-circle mr-3\"\r\n            >\r\n              <i class=\"fa fa-bars\"></i>\r\n            </button>\r\n\r\n            <!-- Topbar Search -->\r\n            <form\r\n              class=\"\r\n                d-none d-sm-inline-block\r\n                form-inline\r\n                mr-auto\r\n                ml-md-3\r\n                my-2 my-md-0\r\n                mw-100\r\n                navbar-search\r\n              \"\r\n            >\r\n              <div class=\"input-group\">\r\n                <input\r\n                  v-model=\"search_keyword\"\r\n                  type=\"text\"\r\n                  class=\"form-control bg-light border-0 small\"\r\n                  placeholder=\"Search for...\"\r\n                  aria-label=\"Search\"\r\n                  aria-describedby=\"basic-addon2\"\r\n                />\r\n                <div class=\"input-group-append\">\r\n                  <button\r\n                    class=\"btn btn-primary\"\r\n                    type=\"button\"\r\n                    @click=\"search()\"\r\n                  >\r\n                    <i class=\"fas fa-search fa-sm\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n            <ul class=\"navbar-nav ms-auto\">\r\n              <li class=\"nav-item\">\r\n                <button\r\n                  class=\"btn btn-primary\"\r\n                  type=\"button\"\r\n                  @click=\"showModal()\"\r\n                >\r\n                  New\r\n                </button>\r\n              </li>\r\n              &ensp;\r\n              <li class=\"nav-item\">\r\n                <button\r\n                  class=\"btn btn-primary\"\r\n                  type=\"file\"\r\n                  @click=\"openProject()\"\r\n                >\r\n                  Open\r\n                </button>\r\n\r\n                <input\r\n                  type=\"file\"\r\n                  class=\"form-control-file\"\r\n                  ref=\"fileRef\"\r\n                  id=\"file\"\r\n                  v-show=\"false\"\r\n                  @change=\"uploadProject()\"\r\n                />\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n          <!-- End of Topbar -->\r\n\r\n          <!-- Begin Page Content -->\r\n          <div class=\"container-fluid\">\r\n            <!-- Project Card Example -->\r\n            <div class=\"card shadow mb-4\">\r\n              <div class=\"card-header py-3\">\r\n                <h6 class=\"m-0 font-weight-bold text-primary\">Projects</h6>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"table-responsive-lg\">\r\n                  <table class=\"table table-hover\">\r\n                    <thead class=\"thead-dark\">\r\n                      <tr>\r\n                        <th scope=\"col\"></th>\r\n                        <th scope=\"col\">Name</th>\r\n                        <th scope=\"col\">Time</th>\r\n                        <th scope=\"col\">Operation</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"proj in proj_data\" :key=\"proj.id\">\r\n                        <th scope=\"col\">{{ proj.id }}</th>\r\n                        <td>\r\n                          <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-link\"\r\n                            @click=\"enterCanvas(proj)\"\r\n                          >\r\n                            {{ proj.project_name }}\r\n                          </button>\r\n                        </td>\r\n\r\n                        <td>\r\n                          <button type=\"button\" class=\"btn btn-link\" disabled>\r\n                            {{ proj.last_save_time }}\r\n                          </button>\r\n                        </td>\r\n                        <td>\r\n                          <button\r\n                            class=\"btn btn-warning\"\r\n                            @click=\"enterCanvas(proj)\"\r\n                          >\r\n                            Edit</button\r\n                          >&ensp;\r\n                          <button class=\"btn btn-danger\" @click=\"remove(proj)\">\r\n                            Delete\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                <!-- End of Sidebar -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- End of Content Wrapper -->\r\n      </div>\r\n      <!-- End of Page Wrapper -->\r\n\r\n      <!-- Logout Modal-->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"logoutModal\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                Ready to Leave?\r\n              </h5>\r\n              <button\r\n                class=\"close\"\r\n                type=\"button\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">Ã—</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              Select \"Logout\" below if you are ready to end your current\r\n              session.\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                class=\"btn btn-secondary\"\r\n                type=\"button\"\r\n                data-dismiss=\"modal\"\r\n              ></button>\r\n              <a class=\"btn btn-primary\" href=\"/login\">Logout</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <div class=\"modal-container\" v-show=\"isModalVisible\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">New project</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n              @click=\"closeModal()\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <!-- create -->\r\n          <form>\r\n            <div class=\"modal-body\">\r\n              <div class=\"form-group\">\r\n                <label for=\"name\">Project Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Enter project name..\"\r\n                  v-model=\"new_proj.name\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"form-check\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  id=\"share-to-public\"\r\n                  v-model=\"new_proj.is_public\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"exampleCheck1\"\r\n                  >Share to public?</label\r\n                >\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-secondary\"\r\n                data-dismiss=\"modal\"\r\n                @click=\"closeModal()\"\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                @click=\"newProject()\"\r\n              >\r\n                Create\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"ProjectView\",\r\n\r\n  data() {\r\n    return {\r\n      new_proj: {\r\n        name: \"\",\r\n        is_public: \"\",\r\n      },\r\n\r\n      page_name: \"project_page\",\r\n\r\n      search_keyword: \"\",\r\n\r\n      proj_data: {},\r\n\r\n      isModalVisible: false,\r\n\r\n      canvasData: {\r\n        file: {\r\n          class: \"GraphLinksModel\",\r\n          copiesArrays: true,\r\n          copiesArrayObjects: true,\r\n          nodeDataArray: [\r\n            {\r\n              category: \"Data\",\r\n              reasonsList: [{}],\r\n              key: -2,\r\n              loc: \"-99.10220015417542 -20.151221229488044\",\r\n            },\r\n          ],\r\n          linkDataArray: [],\r\n        },\r\n        code: `if __name__ == '__main__':\r\n  main()`,\r\n      },\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    // Fetch data on page load\r\n    this.getData();\r\n  },\r\n\r\n  methods: {\r\n    // 200\r\n    getData() {\r\n      axios({\r\n        method: \"get\",\r\n        url: \"/project/\" + localStorage.uid + \"/\",\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == 200) {\r\n          this.proj_data = res.data.project_detail;\r\n          console.log(res.data.project_detail);\r\n          console.log(this.proj_data);\r\n        } else {\r\n          alert(\"project loading error!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    // 200\r\n    newProject() {\r\n      let formData = new FormData();\r\n      formData.append(\"name\", this.new_proj.name);\r\n      formData.append(\"is_public\", this.new_proj.is_public);\r\n      formData.append(\"file\", this.canvasData.file);\r\n\r\n      console.log(this.new_proj.name);\r\n      console.log(this.new_proj.is_public);\r\n      console.log(this.canvasData.file);\r\n\r\n      axios({\r\n        method: \"post\",\r\n        url: \"/project/create/\" + localStorage.uid + \"/\",\r\n        data: formData,\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == \"200\") {\r\n          console.log(\"formData ok! 200\");\r\n        } else if (res.data.status == \"500\") {\r\n          console.log(\"formData error 500\");\r\n        } else if (res.data.status == \"400\") {\r\n          console.log(\"can not save 400\");\r\n        }\r\n      });\r\n\r\n      // location.replace(\"/project/\");\r\n    },\r\n\r\n    // 200\r\n    openProject() {\r\n      this.$refs.fileRef.dispatchEvent(new MouseEvent(\"click\"));\r\n    },\r\n\r\n    // 200\r\n    uploadProject() {\r\n      var form_data = new FormData();\r\n      var file = document.getElementById(\"file\").files[0];\r\n      form_data.append(\"file\", file, file.name);\r\n\r\n      axios({\r\n        method: \"post\",\r\n        url: \"/project/upload/\" + localStorage.uid + \"/\",\r\n        data: form_data,\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == \"200\") {\r\n          console.log(\"upload ok!\");\r\n        } else {\r\n          alert(\"upload fail!\");\r\n        }\r\n        location.replace(\"/project/\");\r\n      });\r\n    },\r\n\r\n    // untested\r\n    search() {\r\n      let formData = new FormData();\r\n      formData.append(\"page_name\", this.page_name);\r\n      formData.append(\"keyword\", this.search_keyword);\r\n\r\n      axios({\r\n        method: \"post\",\r\n        url: \"/project/search/\" + localStorage.uid + \"/\",\r\n        data: formData,\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == \"200\") {\r\n          this.proj_data = res.data.project_datail;\r\n        } else if (res.data.status == \"500\") {\r\n          alert(\"Something wrong...\");\r\n        }\r\n        location.replace(\"/project/\");\r\n      });\r\n    },\r\n\r\n    // 200\r\n    remove(proj) {\r\n      let formData = new FormData();\r\n      formData.append(\"project_id\", proj.id);\r\n\r\n      axios({\r\n        method: \"post\",\r\n        url: \"/project/remove/\" + localStorage.uid + \"/\" + proj.id + \"/\",\r\n        data: formData,\r\n      }).then((res) => {\r\n        console.log(res.data);\r\n        if (res.data.status == \"200\") {\r\n          this.proj_data = res.data.project_datail;\r\n        } else if (res.data.status == \"500\") {\r\n          alert(\"Something wrong...\");\r\n        }\r\n        location.replace(\"/project/\");\r\n      });\r\n    },\r\n\r\n    // 200\r\n    enterCanvas(proj) {\r\n      localStorage.pid = proj.id;\r\n      location.replace(\"/canvas/\");\r\n    },\r\n\r\n    // 200\r\n    showModal() {\r\n      this.isModalVisible = true;\r\n    },\r\n\r\n    // 200\r\n    closeModal() {\r\n      this.isModalVisible = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped src=\"../../new_pages/vendor/fontawesome-free/css/all.min.css\"></style>\r\n<style scoped src=\"../../new_pages/css/sb-admin-2.min.css\"></style>\r\n\r\n<style scoped>\r\n.modal-container {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n.modal-dialog {\r\n  position: relative;\r\n  align-self: center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}